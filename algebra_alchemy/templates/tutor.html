{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Algebra Alchemy ‚Äì Tutor</title>

    <!-- external CSS -->
    <link rel="stylesheet" href="{% static 'css/tutor.css' %}">
</head>
<body>
<div class="app-shell">
    <!-- SIDEBAR -->
    <aside class="sidebar">
        <div class="sidebar-top">
            <div class="nav-icon-circle">
                üë§
            </div>
        </div>

        <div class="nav-section">
            <div class="nav-item">
                <div class="nav-icon-circle outline">
                    ‚ò∞
                </div>
            </div>

            <a href="{% url 'tutor-dashboard' %}" class="nav-item {% if active_page|default:'learn' == 'learn' %}active{% endif %}">
                <div class="nav-icon-circle">‚úèÔ∏è</div>
                <span>Learn</span>
            </a>

            <a href="{% url 'current-progress' %}" class="nav-item {% if active_page == 'progress' %}active{% endif %}">
                <div class="nav-icon-circle">‚òÖ</div>
                <span>Current<br>Progress</span>
            </a>

            <a href="{% url 'learning-graph' %}" class="nav-item {% if active_page == 'graph' %}active{% endif %}">
                <div class="nav-icon-circle">üìä</div>
                <span>Learning<br>Graph</span>
            </a>

            <a href="{% url 'calendar' %}" class="nav-item {% if active_page == 'calendar' %}active{% endif %}">
                <div class="nav-icon-circle">üìÖ</div>
                <span>Calendar</span>
            </a>
        </div>

        <div class="sidebar-spacer"></div>
    </aside>

    <!-- MAIN AREA -->
    <main class="main-area">
        <header class="top-bar">
            <div>
                <div class="top-title">Algebra Alchemy</div>
                <div class="top-subtitle">Reducing Equations: Lesson 1</div>
            </div>
        </header>

        <section class="content-row">
            <!-- LEFT: LESSON CARD -->
            <article class="lesson-card">
                <div class="lesson-card-header">
                    <div class="lesson-card-title-label">Learn Simple Algebra</div>
                    <div class="lesson-card-title-main">Reducing Equations: Lesson 1</div>
                </div>

                <ul class="lesson-list">
                    <!-- Isolating X-Terms -->
                    <li class="lesson-item clickable active-lesson" id="lesson-isolating">
                        <div class="lesson-main">
                            <span class="lesson-star">‚òÜ</span>
                            <div>
                                <div class="lesson-text-title">Isolating X-Terms</div>
                                <div class="lesson-text-subtitle">Menu description.</div>
                            </div>
                        </div>
                        <div class="lesson-progress" id="isolating-progress">0%</div>
                    </li>
                
                    <!-- Solving for X -->
                    <li class="lesson-item clickable" id="lesson-solving">
                        <div class="lesson-main">
                            <span class="lesson-star">‚òÜ</span>
                            <div>
                                <div class="lesson-text-title">Solving for X</div>
                                <div class="lesson-text-subtitle">Menu description.</div>
                            </div>
                        </div>
                        <div class="lesson-progress" id="solving-progress">0%</div>
                    </li>

                    <!-- Word Problems to Expressions -->
                    <li class="lesson-item clickable" id="lesson-expressions">
                        <div class="lesson-main">
                            <span class="lesson-star">‚òÜ</span>
                            <div>
                                <div class="lesson-text-title">Word Problems to Expressions</div>
                                <div class="lesson-text-subtitle">Turn words into equations.</div>
                            </div>
                        </div>
                        <div class="lesson-progress" id="expressions-progress">0%</div>
                    </li>

                    <!-- Practice Level Up Test 1 -->
                    <li class="lesson-item clickable" id="lesson-practice1">
                        <div class="lesson-main">
                            <span class="lesson-star">‚òÜ</span>
                            <div>
                                <div class="lesson-text-title">Practice Level Up Test 1</div>
                                <div class="lesson-text-subtitle">Feeling confident?</div>
                            </div>
                        </div>
                        <div class="lesson-progress" id="practice1-progress">0%</div>
                    </li>

                    <!-- Practice Level Up Test 2 -->
                    <li class="lesson-item clickable" id="lesson-practice2">
                        <div class="lesson-main">
                            <span class="lesson-star">‚òÜ</span>
                            <div>
                                <div class="lesson-text-title">Practice Level Up Test 2</div>
                                <div class="lesson-text-subtitle">Test out to next level!</div>
                            </div>
                        </div>
                        <div class="lesson-progress" id="practice2-progress">0%</div>
                    </li>
                </ul>
            </article>

            <!-- RIGHT: WORKSPACE -->
            <section class="workspace-wrapper">
                <div class="workspace-label" id="workspace-label">DRAG TO ISOLATE X</div>

                <!-- Drag-and-drop mode (Isolating X-Terms) -->
                <div id="drag-mode">
                    <div id="original-equation" class="original-equation"></div>
                    <div id="chip-container" class="workspace-chips"></div>
                    <div id="status-message" class="status-message"></div>
                </div>
            
                <!-- MCQ mode (Solving for X) -->
                <div id="mcq-mode" class="hidden">
                    <div id="mcq-original" class="original-equation"></div>
                
                    <div class="mcq-card">
                        <div id="mcq-question" class="mcq-question"></div>
                        <div id="mcq-options" class="mcq-options"></div>
                        <div id="mcq-feedback" class="mcq-feedback"></div>
                        <button id="mcq-next-step" class="next-btn" disabled>
                            Next step ‚Üí
                        </button>
                    </div>
                </div>
            
                <!-- Expression mode (Word problems to expressions) -->
                <div id="expression-mode" class="hidden">
                    <div id="expr-prompt" class="original-equation"></div>
                
                    <div class="expr-card">
                        <div class="expr-label">Type the algebraic equation:</div>
                        <input
                            id="expr-input"
                            type="text"
                            class="expr-input"
                            autocomplete="off"
                            placeholder="e.g. 5 + 2x = 15"
                        />
                        <div id="expr-feedback" class="mcq-feedback"></div>
                        <div class="expr-buttons">
                            <button id="expr-check" class="next-btn">
                                Check
                            </button>
                            <button id="expr-next" class="next-btn" style="display:none;">
                                Next expression ‚Üí
                            </button>
                        </div>
                    </div>
                </div>
            </section>

        </section>

        <!-- BOTTOM AREA -->
        <section class="bottom-area">
            <div id="progress-summary" class="progress-summary">
                Score: 0/5 ¬∑ XP: 0
            </div>
        
            <div class="star-row">
                <div id="stars">
                    <span class="star-indicator">‚òÖ</span>
                    <span class="star-indicator">‚òÖ</span>
                    <span class="star-indicator">‚òÖ</span>
                    <span class="star-indicator">‚òÖ</span>
                    <span class="star-indicator">‚òÖ</span>
                    <span class="star-indicator">‚òÖ</span>
                    <span class="star-indicator">‚òÖ</span>
                    <span class="star-indicator">‚òÖ</span>
                    <span class="star-indicator">‚òÖ</span>
                    <span class="star-indicator">‚òÖ</span>
                </div>
            </div>

        
            <button class="drag-cta">
                <span class="drag-cta-icon">‚úî</span>
                <span>Drag and drop to isolate X terms</span>
            </button>
        
            <button id="next-problem" class="next-btn" style="display:none;">
                Next problem ‚Üí
            </button>
        
            <div id="pagination" class="pagination"></div>

        </section>

    </main>
</div>

<div id="completion-overlay" class="completion-overlay hidden">
    <div class="completion-modal">
        <h2>Nice work! üéì</h2>
        <p>You‚Äôve finished all the problems.</p>
        <p id="completion-stats"></p>
        <div class="modal-buttons">
            <button id="next-lesson" class="next-btn secondary-btn">
                Next lesson: Solving for X ‚Üí
            </button>
            <button id="close-modal" class="next-btn">
                Close
            </button>
        </div>
    </div>
</div>


<!-- external JS -->
<script src="{% static 'js/tutor.js' %}"></script>

</body>
</html>
